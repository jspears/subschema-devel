{"version":3,"sources":["../../src/types/RestrictedMixin.js"],"names":["zipRe","reRe","lastEq","input","val","length","fixDelim","str","replace","ret","exact","d","backward","fmt","delim","placeholder","fmt$return","upper","toUpperCase","lower","_pad","value","right","pad","padding","parts","split","defaultValidator","regex","test","findCharPosAfter","char","pos","i","l","makeFormatter","format","validator","pattern","validPattern","handlers","lastIndex","exec","index","first","push","fdelim","re","RegExp","vre","makeFormatter$formatter","isBackward","end","idx","p","position","shift","clean","pop","incr","done","isNextPlaceholder","isValid","dd_yyyy","shortDate","isBackspace","caret","ref","whole","mm","last","mmInt","parseInt","join","substring","createValidator","loader","loadValidator","prototype","bind","title","RestrictedMixin","props","rest","handleKeyDown","e","onKeyDown","call","target","selectionStart","selectionEnd","state","key","onValid","hasValidValue","preventDefault","_value","stopPropagation","back","trim","nvalue","String","fromCharCode","keyCode","shiftKey","toLowerCase","splice","Math","max","_handleProps","formatter","_formatter","formatters","context","hasValue","handleState","onChange","uszip","capitalize","creditcard","mm20YY"],"mappings":"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","file":"RestrictedMixin.js","sourcesContent":["import React, {Component} from 'react';\nimport warning from 'subschema-utils/lib/warning';\n\nconst zipRe = /^(\\d{0,5})(?:[^\\d]?(\\d{0,4}))?$/, reRe = /(#{1,}|A{1,}|a{1,}|0{1,}(?:\\.0{1,})?)?(.+?)?/mg;\n\nfunction lastEq(input, val) {\n    return input && input[input.length - 1] === val;\n}\n\nfunction fixDelim(str) {\n    return (str || '').replace(/([ ().-])/g, '\\\\$1');\n}\n\nfunction ret(exact, val, d, backward) {\n    return (exact != null && exact === d) ? exact : exact == null || exact == '' ? val : exact;\n}\n\nfunction fmt(delim, placeholder) {\n    delim = delim || '';\n    function fmt$return(exact, val, d, backward) {\n        if (placeholder && !backward) {\n            return delim;\n        }\n        if (exact === d) {\n            return exact || '';\n        }\n        return (exact == null || exact === '' ) ? val : backward ? exact : exact + delim;\n    };\n    fmt$return.placeholder = placeholder;\n    return fmt$return;\n}\n\nfunction upper(delim) {\n    return function fmt$return(exact, val, d, backward) {\n        exact = (ret(exact, val, d) || '').toUpperCase();\n        return backward ? exact : exact + delim;\n    };\n}\nfunction lower(delim) {\n    return function fmt$return(exact, val, d, backward) {\n        exact = (ret(exact, val, d) || '').toUpperCase();\n        return backward ? exact : exact + delim;\n    };\n}\nfunction _pad(value, length, right) {\n    value = value || '';\n    while (value.length < length) {\n        if (right) {\n            value += '0';\n        } else {\n            value = '0' + value;\n        }\n    }\n    return value;\n}\nfunction pad(delim, padding) {\n    var parts = padding.split('.', 2);\n    return function fmt$return(exact, val, d, backward) {\n        exact = ret(exact, val, d).split('.', 2);\n        return _pad(exact[0], parts[0].length, false) + ( parts.length > 1 ? '.' + _pad(exact[1], parts[1].length, true) : '');\n    };\n\n}\nfunction defaultValidator(value, regex) {\n    return regex.test(value);\n}\nfunction findCharPosAfter(value, char, pos) {\n    for (var i = pos, l = value.length; i < l; i++) {\n        if (value[i] === char) {\n            return i + 1;\n        }\n    }\n    return value.length;\n}\nfunction makeFormatter(format, validator) {\n    validator = validator || defaultValidator;\n    var parts;\n    var pattern = '', validPattern = '';\n    var handlers = [];\n    reRe.lastIndex = 0;\n    while ((parts = reRe.exec(format)) != null && parts.index < format.length) {\n        var first = parts[1], delim = parts[2], exact;\n        switch (first && first[0] || '') {\n            //mixed case\n            case 'M':\n            {\n                exact = '(\\\\[a-zA-Z]{' + first.length + '})';\n                pattern += exact + '|(\\\\[a-zA-Z]{0,' + (first.length - 1) + '})';\n                validPattern += exact;\n                handlers.push(fmt(delim));\n                break;\n            }\n            //upper case\n            case 'A':\n            {\n                exact = '(\\\\[A-Z]{' + first.length + '})';\n                pattern += exact + '|(\\\\[a-zA-Z]{0,' + (first.length - 1) + '})';\n                validPattern += exact;\n                handlers.push(upper(delim));\n\n                break;\n            }\n            //lower case\n            case 'a':\n            {\n                exact = '(\\\\[A-Z]{' + first.length + '})';\n                pattern += exact + '|(\\\\[a-zA-Z]{0,' + (first.length - 1) + '})';\n                validPattern += exact;\n                handlers.push(lower(delim));\n\n                break;\n            }\n            //padding\n            case '0':\n                exact = '(\\\\d{' + first.length + ',})';\n                pattern += '(' + exact + '|(\\\\d{0,}))(?:[^\\\\d])?';\n                validPattern += exact + fixDelim(delim);\n                handlers.push(pad(delim, first));\n                break;\n\n            //Number\n            case '#':\n            {\n                var fdelim = fixDelim(delim);\n                exact = '(\\\\d{' + first.length + '})';\n                pattern += '(' + exact + '|(\\\\d{0,' + (first.length - 1) + '}))(?:' + fdelim + '|[^\\\\d]+?)?';\n                validPattern += exact + fdelim;\n                handlers.push(fmt(delim));\n                break;\n            }\n            default:\n            {\n                //empty pattern so that the patterns\n                // and the input align when its a non matching pattern\n                var fdelim = fixDelim(delim);\n                exact = '(' + fdelim + ')';\n                pattern += '(' + fdelim + '|)()(?:' + fdelim + '|(!' + fdelim + '))?';\n                validPattern += '()(' + fdelim + ')';\n                handlers.push(fmt(delim, true));\n                break;\n            }\n        }\n    }\n    var re = new RegExp('^' + pattern), vre = new RegExp('^' + validPattern + '$', 'g');\n    return function makeFormatter$formatter(input, isBackward, end) {\n        vre.lastIndex = re.index = re.lastIndex = 0;\n        var idx = 0, d = 0, p, parts = re.exec(input), position = end || 0;\n        parts.shift();\n        //remove delimeters\n\n        parts = re.exec(clean(parts));\n        parts.shift();\n        while (parts.length) {\n            p = parts[parts.length - 1];\n            if (p == null || p == '')\n                parts.pop();\n            else\n                break;\n        }\n        var incr = handlers.length;\n        var value = '', done = false;\n        for (var i = 0, l = incr * 3; i < l; i += 3, d++) {\n\n            /*if (parts[i] == '' && parts[i + 1] == null) {\n             break;\n             }*/\n            var isNextPlaceholder = (parts[i] !== parts[i + 2]) && (handlers[d + 1] && handlers[d + 1].placeholder === true);\n            done = (i + 3 !== l) ? parts[i + 3] == null && parts[i + 4] == null ? isBackward ? true : !isNextPlaceholder : false : isNextPlaceholder;\n            value += handlers[d](parts[i], parts[i + 1], parts[i + 2], done ? isBackward : false);\n            if (done) {\n                break;\n            }\n        }\n        if (!isBackward && end) {\n            position = findCharPosAfter(value, input[end], end);\n        }\n        return {\n            isValid: validator(value, vre),\n            value,\n            position\n        }\n    }\n}\n\n//So we only care about every 3rd group.  Remove delimeters\n// and such, so the next parse can have something nice to work with.\nfunction clean(parts) {\n    var p = '';\n    for (var i = 0; i < parts.length; i += 3) {\n        p += parts[i] || '';\n    }\n    return p;\n}\n\nfunction defaultValidator(value, regex) {\n    return regex.test(value);\n}\nvar dd_yyyy = makeFormatter('##/####');\n\nfunction shortDate(value, isBackspace, caret) {\n    var ref = dd_yyyy(value, isBackspace, caret),\n        parts = /(\\d{1,2})([^\\d]+?)?(\\d{0,4})?/.exec(value) || [],\n        position = ref.position,\n        str = '',\n        [whole, mm, delim, last] = parts,\n        mmInt = parseInt(mm || '0', 10);\n\n    //invalid month, best guess\n\n    if (!isBackspace) {\n        //13->01/3\n        if (parseInt(mm, 10) > 12) {\n            str = '0' + mm[0] + '/';\n            last = mm[1] + (last == null ? '' : last);\n        } else\n        //11->11/\n        if (delim) {\n            str = (mmInt < 10 ? '0' + mmInt : mmInt) + '/';\n        } else if (mmInt > 9) {\n            str = mmInt + '/';\n        } else if (mmInt > 1) {\n            str = '0' + mmInt + '/';\n        } else if (!mm) {\n            //swallow\n        } else if (mm.length === 2) {\n            str = mm + '/';\n        } else {\n            str = mm;\n\n        }\n\n        if (last) {\n            last = parseInt(last, 10);\n            if (last === 2) {\n                str += '2';\n            } else if (last < 2) {\n                str += '20' + last;\n            } else if (last === 20) {\n                str += '20';\n            } else if (last < 21) {\n                str += '20' + last;\n            } else if (last > 100) {\n                str += last;\n            } else if (last > 10) {\n                str += '20' + last;\n            }\n        }\n    } else {\n        str = ref.value;\n    }\n    var isValid = false;\n    if (str.length === 7) {\n        isValid = true;\n        var parts = str.split('/');\n        parts.push(parts.pop().replace(/^20/, ''));\n        str = parts.join('/');\n    } else {\n        str = str.substring(0, 7);\n    }\n    return {\n        value: str,\n        isValid,\n        position\n    };\n\n};\nfunction createValidator(validator, loader) {\n    if (validator === void(0)) {\n        return defaultValidator;\n    }\n    if (typeof validator === 'function') {\n        return validator;\n    }\n    if (typeof validator === 'string') {\n        validator = loader.loadValidator(validator)();\n        return function (value) {\n            return !validator(value)\n        }\n    }\n    if (validator instanceof RegExp) {\n        return RegExp.prototype.test.bind(re)\n    }\n    throw 'Do not know what to do with ' + validator;\n\n\n}\nfunction title(value) {\n    if (value.length === 0) {\n        return value;\n    }\n    return value.substring(0, 1).toUpperCase() + value.substring(1);\n}\nexport default class RestrictedMixin extends Component {\n    static makeFormatter = makeFormatter;\n    static formatters = {\n        uszip(value, isBackspace, position){\n            value = (value || '').substring(0, 10);\n            var parts = zipRe.exec(value) || [], isValid = false;\n\n            if (parts) {\n                if (parts[2]) {\n                    value = parts[1] + '-' + parts[2]\n                } else {\n                    value = parts[1] || '';\n                }\n                isValid = value.length === 5 || value.length === 10;\n\n            } else {\n                value = '';\n            }\n\n            return {\n                value,\n                isValid\n            }\n        },\n        capitalize(value, isBackward, position) {\n            value = value || '';\n            var isValid = value && value.length > 2 || false;\n            if (isBackward) {\n                position--;\n            } else {\n                position++;\n                value = title(value);\n            }\n            return {\n                value,\n                isValid,\n                position\n            };\n        },\n        title(value, isBackward, position){\n            value = value || '';\n            var isValid = value && value.length > 2 || false;\n            if (isBackward) {\n                position--;\n            } else {\n                value = value.replace(/([^\\s]*)(\\s*)/g, title);\n                position++;\n            }\n            return {\n                value,\n                isValid,\n                position\n            }\n        },\n        creditcard: '#### #### #### ####',\n        mm20YY: shortDate,\n        shortDate\n    };\n\n    constructor(props, ...rest) {\n        super(props, ...rest);\n        if (!this.state) {\n            this.state = {};\n        }\n    }\n\n    componentWillMount() {\n        this._handleProps(this.props);\n    }\n\n    componentWillReceiveProps(props) {\n        this._handleProps(props);\n    }\n\n    componentDidMount() {\n//        this.handleSelectionRange(this.state.caret);\n    }\n\n    componentDidUpdate() {\n  //      this.handleSelectionRange(this.state.caret);\n    }\n\n    _handleProps(props) {\n        if (props && 'value' in props && props.value !== this.state.value) {\n            var value = props.value ? this.formatter(props.value) : {\n                isValid: false,\n                value: ''\n            };\n            this.state.value = value.value;\n            this.state.hasValidValue = value.isValid;\n\n        }\n\n    }\n\n\n    formatter(value, isBackspace, caret) {\n        if (this._formatter) {\n            return this._formatter.call(this, value, isBackspace, caret);\n        }\n        var formatter = this.props.formatter;\n\n        if (typeof formatter === 'string') {\n            formatter = RestrictedMixin.formatters[formatter] || formatter;\n            if (typeof formatter === 'function') {\n                return (this._formatter = formatter).call(this, value, isBackspace, caret);\n            } else {\n                return (this._formatter = makeFormatter(formatter, createValidator(this.props.validator, this.context.loader))).call(this, value, isBackspace);\n            }\n        } else if (typeof formatter === 'function') {\n            return (this._formatter = formatter).call(this, value, isBackspace, caret);\n        }\n        warning(false, 'Did not find a formatter for %s', this.props.formatter);\n        return {value};\n    }\n\n    handleKeyDown = (e) => {\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown.call(this, e);\n        }\n        var pos = e.target.selectionStart, end = e.target.selectionEnd, value = (this.state.value || '');\n        if (e.key === 'Enter') {\n            this.props.onValid(this.state.hasValidValue, {\n                isValid: this.state.hasValidValue,\n                value: this.state.value\n            });\n            return;\n        }\n        if (e.key === 'Delete') {\n            e.preventDefault();\n            value = value.substring(0, pos) + value.substring(end);\n            this._value(value, false, pos);\n            return;\n        }\n        if (e.key === 'Backspace') {\n            e.preventDefault();\n            e.stopPropagation();\n            var back = false;\n            if (pos === end) {\n                value = value.trim().substring(0, value.length - 1);\n                back = true;\n            } else {\n                value = value.substring(0, pos) + value.substring(end);\n            }\n            this._value(value, back, pos + value.length);\n            return;\n        }\n        if (e.key !== 'Unidentified') {\n            return;\n        }\n        /* if (e.key === 'Shift'){\n         this._shift = true;\n         return\n         }\n         */\n        if (pos < value.length) {\n            //This prevents onChange from firing.\n            e.preventDefault();\n            e.stopPropagation();\n            var nvalue = value.split('');\n            var char = String.fromCharCode(e.keyCode);\n            if (!e.shiftKey) {\n                char = char.toLowerCase();\n            }\n            nvalue.splice(pos, Math.max(end - pos, 1), char);\n            this._value(nvalue.join(''), false, pos);\n        }\n    };\n\n    handleState(str, isBackspace, caret) {\n        var value = this.formatter(str, isBackspace, caret) || {isValid: false};\n\n\n        if (caret != null && typeof value.position === 'number') {\n            if (isBackspace) {\n                caret += value.position - 1;\n            }\n            else {\n                caret = value.position;\n            }\n        }\n        var state = this.state;\n        state.caret = caret;\n        state.value = value.value;\n        state.hasValue = value.value != null && value.value.length !== 0;\n        state.hasValidValue = value.isValid;\n        /*\n         this.setState({\n         caret,\n         value: value.value,\n         hasValue: value.value != null && value.value.length !== 0,\n         hasValidValue: value.isValid\n         }, this.handleSelectionRange);\n         */\n        return value;\n\n    }\n\n    _value(str, isBackspace, caret) {\n        var value = this.handleState(str, isBackspace, caret);\n        this.props.onChange(value.value);\n        this.props.onValid(value.isValid, value);\n    }\n\n\n}\n"]}