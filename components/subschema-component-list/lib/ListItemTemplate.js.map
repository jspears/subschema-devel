{"version":3,"sources":["../src/ListItemTemplate.jsx"],"names":["ListItemTemplate","handleMoveUp","e","preventDefault","props","onMoveUp","pos","value","pid","handleMoveDown","onMoveDown","handleDelete","onDelete","handleEdit","val","onEdit","last","canReorder","canDelete","buttons","buttonClass","push","onClick","title","action","label","iconClass","moveUpClass","moveDownClass","deleteClass","Buttons","errors","path","ctrlButtonsClass","listGroupItemClass","helpClass","onValidate","type","name","hasErrorClass","onValueChange","error","message","children","propTypes","style","injectClass","any","defaultProps","canAdd","canEdit"],"mappings":"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","file":"ListItemTemplate.js","sourcesContent":["import React, { Component } from 'react';\nimport { noop } from 'subschema-utils';\nimport UninjectedButtons from 'subschema-component-form/lib/templates/ButtonsTemplate';\nimport PropTypes from 'subschema-prop-types';\n\nexport default class ListItemTemplate extends Component {\n    static propTypes = {\n        style  : PropTypes.style,\n        Buttons: PropTypes.injectClass,\n        pid    : PropTypes.any\n    };\n\n    static defaultProps = {\n        type         : 'Text',\n        onMoveUp     : noop,\n        onMoveDown   : noop,\n        onDelete     : noop,\n        onValidate   : noop,\n        onValueChange: noop,\n        onEdit       : noop,\n        canAdd       : false,\n        canReorder   : false,\n        canEdit      : false,\n        canDelete    : false,\n        last         : false,\n        errors       : null,\n        pos          : 0,\n        style        : \"ListItemTemplate\",\n        Buttons      : UninjectedButtons\n    };\n\n    handleMoveUp = (e) => {\n        e.preventDefault();\n        this.props.onMoveUp(this.props.pos, this.props.value, this.props.pid);\n    };\n\n    handleMoveDown = (e) => {\n        e.preventDefault();\n        this.props.onMoveDown(this.props.pos, this.props.value, this.props.pid);\n    };\n\n    handleDelete = (e) => {\n        e.preventDefault();\n        this.props.onDelete(this.props.pos, this.props.value, this.props.pid);\n    };\n\n    handleEdit = (e) => {\n        e.preventDefault();\n        var val = this.props.value;\n\n        this.props.onEdit(this.props.pos, val.value, this.props.pid);\n    };\n\n    buttons(pos, last, canReorder, canDelete) {\n        var buttons     = [];\n        var buttonClass = this.props.buttonClass;\n        if (canReorder) {\n            if (pos > 0) {\n                buttons.push({\n                    onClick  : this.handleMoveUp,\n                    title    : 'Move Up',\n                    action   : 'up',\n                    label    : '',\n                    iconClass: this.props.moveUpClass,\n                    buttonClass\n                });\n            }\n            if (!last) {\n                buttons.push({\n                    onClick  : this.handleMoveDown,\n                    title    : 'Move Down',\n                    action   : 'down',\n                    iconClass: this.props.moveDownClass,\n                    buttonClass,\n                    label    : ''\n                });\n\n            }\n\n        }\n        if (canDelete) {\n            buttons.push({\n                onClick  : this.handleDelete,\n                title    : 'Delete',\n                action   : 'delete',\n                iconClass: this.props.deleteClass,\n                buttonClass,\n                label    : ''\n            });\n        }\n        return buttons\n    }\n\n    render() {\n        var { pos, Buttons, value, errors, path, ctrlButtonsClass, listGroupItemClass, helpClass, onValidate, type, name, hasErrorClass, canReorder, canDelete, last, onValueChange } = this.props;\n        var error                                                                                                                                                                     = errors\n                                                                                                                                                                                        && errors[0]\n                                                                                                                                                                                        && errors[0].message;\n        return <li\n            className={`${listGroupItemClass} ${(error ? hasErrorClass : '')}`}>\n            { error ?\n              <p ref=\"error\" key=\"error\" className={helpClass}>{error}</p>\n                : null }\n            <Buttons key=\"buttons\"\n                     buttons={this.buttons(pos, last, canReorder, canDelete)}\n                     ref=\"buttons\"\n                     buttonsClass={ctrlButtonsClass}/>\n            {this.props.children}\n        </li>\n\n    }\n\n}\n"]}